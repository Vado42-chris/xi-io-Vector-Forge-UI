/* App Layout - CSS Grid - NO INLINE STYLES */
.app-layout-grid {
  position: relative;
  width: 100vw;
  height: 100vh;
  color: var(--xibalba-text-000);
  font-family: var(--font-sans, sans-serif);
  overflow: hidden;
  background: var(--xibalba-grey-000);
  display: grid;
  grid-template-rows: auto 1fr;
  grid-template-columns: auto 1fr auto;
  min-height: 100vh;
  isolation: isolate; /* Isolate grid from external styles */
}

.app-header-container {
  grid-row: 1 / 2;
  grid-column: 1 / 4;
  position: sticky;
  top: 0;
  z-index: var(--z-menu, 1100);
  isolation: isolate; /* Isolate header from other components */
  contain: layout style paint; /* Contain header layout */
  overflow: visible; /* Allow dropdowns to show */
}

.app-main-content {
  grid-row: 2 / 3;
  grid-column: 1 / 4;
  display: flex;
  height: 100%;
  isolation: isolate; /* Isolate main content from header */
  contain: layout; /* Contain layout to prevent bleeding */
  position: relative;
}

.app-canvas-area {
  flex: 1;
  position: relative;
  overflow: hidden;
  background: var(--xibalba-grey-000);
  isolation: isolate; /* Isolate canvas from sidebars and header */
  contain: layout paint; /* Contain canvas layout and painting */
  z-index: var(--z-canvas, 10); /* Canvas below sidebars but above background */
  /* Account for fixed left sidebar - canvas starts after sidebar */
  margin-left: var(--sidebar-left-width, 320px);
  /* Account for fixed right sidebar - canvas ends before sidebar */
  margin-right: var(--sidebar-right-width, 360px);
  /* Width accounts for both sidebars */
  width: calc(100% - var(--sidebar-left-width, 320px) - var(--sidebar-right-width, 360px));
  min-width: 0; /* Allow flex shrinking */
}

